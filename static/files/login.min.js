$(document).ready(function(){function e(e){student_request=$.ajax({url:"/",type:"POST",data:{roll:e},success:function(e){if(console.log("Success: ",e),null==localStorage.getItem("recent_login")||null==localStorage.getItem("recent_login")||""==localStorage.getItem("recent_login"))localStorage.setItem("recent_login",JSON.stringify(Array(e)));else{var t=JSON.parse(localStorage.getItem("recent_login")),a=0;t.forEach(t=>{t.roll==e.roll&&(a=1)}),0==a&&(t.unshift(e),t.length>3&&t.pop()),localStorage.setItem("recent_login",JSON.stringify(t))}var o=new URLSearchParams(location.search);o.has("next")&&""!=o.get("next").trim()?location.href=o.get("next"):location.href="/profile"},error:function(e,t,a){$("#load").modal("hide").modal("hide all"),"abort"!=t&&(console.log("Abort not executed"),$("#error").modal({blurring:!0,duration:100}).modal("show"))},dataType:"JSON"})}"true"==sessionStorage.getItem("not_logged_in")&&(sessionStorage.removeItem("not_logged_in"),alert("Please enter your Registration Number first")),$("#form").submit(function(t){t.preventDefault(),console.log("Default prevented"),""!=$("input[name='roll']").val().trim()&&($("#load").modal({blurring:!0,closable:!1,duration:100}).modal("show"),e($("input[name='roll']").val()))}),function(){var t=JSON.parse(localStorage.getItem("recent_login"));if(null!=localStorage.getItem("recent_login")&&null!=localStorage.getItem("recent_login")&&""!=localStorage.getItem("recent_login")){for(var a='<div id = "recent" style = "text-align: left;"><h3 class="ui top attached header">Recent Login</h3><div class="ui attached segment"><div class="ui middle huge aligned relaxed divided list">',o=0;o<t.length;++o)a+='<div class = "recent-login-item item"><img class="ui tiny image" src = "/static/images/placeholder.png" style = "max-height: 40px; max-width: 50px" data-src="/static/images/'+t[o].image_id+'"><div class="content"><a style = "font-size: .61em; padding: .5em 0" class="header" data = "'+t[o].roll+'">'+t[o].name+" [ "+t[o].roll+" ]</a></div></div>";a+="</div></div></div>",$(a).insertAfter("#form")}$(".recent-login-item").click(function(t){$("#load").modal({blurring:!0,closable:!1,duration:100}).modal("show"),e($(this).find("a").attr("data"))})}(),$("img").visibility({type:"image",transition:"fade in",duration:0});var t=new URLSearchParams(location.search);t.has("next")&&""!=t.get("next").trim()&&$("body").toast({displayTime:0,class:"warning inverted",showIcon:"info",message:"You need to submit your registration number to continue"})});